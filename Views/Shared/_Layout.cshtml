<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course AVG</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="~/Content/img/logo/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Place favicon.ico in the root directory -->
    <!-- CSS here -->
    <link rel="stylesheet" href="~/Content/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/animate.min.css">
    <link rel="stylesheet" href="~/Content/magnific-popup.css">
    <link rel="stylesheet" href="~/Content/owl.carousel.min.css">
    <link rel="stylesheet" href="~/Content/flaticon.css">
    <link rel="stylesheet" href="~/Content/odometer.css">
    <link rel="stylesheet" href="~/Content/aos.css">
    <link rel="stylesheet" href="~/Content/slick.css">
    <link rel="stylesheet" href="~/Content/default.css">
    <link rel="stylesheet" href="~/Content/style.css">
    <link rel="stylesheet" href="~/Content/responsive.css">
    @*@Styles.Render("~/Content/css")*@
    @Scripts.Render("~/bundles/modernizr")
    @Styles.Render("~/Content/toastr.css")
    @RenderSection("styles", required: false)
    
    <script src="https://kit.fontawesome.com/d30a7cc1f2.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Scroll-top -->
    <button class="scroll-top scroll-to-target" data-target="html">
        <i class="fas fa-angle-up"></i>
    </button>
    <!-- Scroll-top-end-->
    <!-- header-area -->
    <header>
        <div id="sticky-header" class="menu-area transparent-header sticky-menu-clone">
            <div class="container custom-container container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="mobile-nav-toggler">
                            <ul class="d-flex">
                                <li class="header-cart">
                                    <a href="#" class="svg-menu">
                                        <svg style="width:30px;height:30px;margin-bottom:7.2px;margin-right:10px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                            <g id="SVGRepo_iconCarrier">
                                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.79166 2H1V4H4.2184L6.9872 16.6776H7V17H20V16.7519L22.1932 7.09095L22.5308 6H6.6552L6.08485 3.38852L5.79166 2ZM19.9869 8H7.092L8.62081 15H18.3978L19.9869 8Z" fill="#ffffff"></path>
                                                <path d="M10 22C11.1046 22 12 21.1046 12 20C12 18.8954 11.1046 18 10 18C8.89543 18 8 18.8954 8 20C8 21.1046 8.89543 22 10 22Z" fill="#ffffff"></path>
                                                <path d="M19 20C19 21.1046 18.1046 22 17 22C15.8954 22 15 21.1046 15 20C15 18.8954 15.8954 18 17 18C18.1046 18 19 18.8954 19 20Z" fill="#ffffff"></path>
                                            </g>
                                        </svg>
                                        @*<span aria-hidden="true" data-testid="cart-badge" class="desktop-header-module--dropdown-counter-badge--unIZ1 notification-badge-module--ud-notification-badge--dQC8r notification-badge-module--ud-notification-counter--hNzUv" title="1 mặt hàng trong giỏ hàng">1</span>*@
                                    </a>
                                </li>
                                <li>
                                    <i class="fas fa-bars"></i>
                                </li>
                            </ul>
                        </div>
                        <div class="menu-wrap">
                            <nav class="menu-nav show justify-content-between">
                                <div class="logo me-5">
                                    <a href="@Url.Action("Index", "Home")">
                                        <img src="~/Content/img/logo/AVG_Course.png" alt="Logo">
                                    </a>
                                </div>
                                <div class="navbar-wrap main-menu d-none d-lg-flex">
                                    <ul class="navigation">
                                        <li class="active menu-item-has-children">
                                            <a href="@Url.Action("Index","Home")">Home</a>
                                        </li>
                                        <li class="menu-item-has-children"><a href="@Url.Action("Index","Course")">Course</a></li>
                                        <li class="menu-item-has-children"><a href="@Url.Action("Index","Blog")">blog</a></li>
                                        <li><a href="@Url.Action("Contact","Home")">contacts</a></li>
                                    </ul>
                                </div>
                                <div class="header-action d-none d-md-block">
                                    <ul>
                                        <li class="header-search">
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#search-modal">
                                                <svg xmlns="http://www.w3.org/2000/svg"
                                                     style="width: 20px; height: 20px" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                                                </svg>
                                            </a>
                                        </li>
                                        <li class="header-cart">
                                            <a href="#">
                                                <svg style="width:21px;height:21px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                                    <g id="SVGRepo_iconCarrier">
                                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M5.79166 2H1V4H4.2184L6.9872 16.6776H7V17H20V16.7519L22.1932 7.09095L22.5308 6H6.6552L6.08485 3.38852L5.79166 2ZM19.9869 8H7.092L8.62081 15H18.3978L19.9869 8Z" fill="#ffffff"></path>
                                                        <path d="M10 22C11.1046 22 12 21.1046 12 20C12 18.8954 11.1046 18 10 18C8.89543 18 8 18.8954 8 20C8 21.1046 8.89543 22 10 22Z" fill="#ffffff"></path>
                                                        <path d="M19 20C19 21.1046 18.1046 22 17 22C15.8954 22 15 21.1046 15 20C15 18.8954 15.8954 18 17 18C18.1046 18 19 18.8954 19 20Z" fill="#ffffff"></path>
                                                    </g>
                                                </svg>
                                                @*<span aria-hidden="true" data-testid="cart-badge" class="desktop-header-module--dropdown-counter-badge--unIZ1 notification-badge-module--ud-notification-badge--dQC8r notification-badge-module--ud-notification-counter--hNzUv" title="1 mặt hàng trong giỏ hàng">1</span>*@
                                            </a>
                                        </li>
                                        <li class="header-lang">
                                            <form action="#">
                                                <select id="lang-dropdown">
                                                    <option value="">En</option>
                                                    <option value="">Au</option>
                                                    <option value="">AR</option>
                                                    <option value="">TU</option>
                                                </select>
                                            </form>
                                        </li>
                                        @if (!Website_Course_AVG.Managers.Helpers.IsAuthenticated())
                                        {
                                            <li class="header-btn d-flex align-items-center"><a href="@Url.Action("Login", "Account")" class="btn">Sign In</a></li>
                                            <li class="header-btn d-flex align-items-center"><a href="@Url.Action("Register", "Account")" class="btn">Sign Up</a></li>
                                        }
                                        else
                                        {
                                            var userManager = new Website_Course_AVG.Managers.UserManager();
                                            var currentUser = userManager.GetUserFromToken();
                                            <li>
                                                <div class="menu-user">
                                                    <div class="avatar-user" onclick="menuToggle();">
                                                        @if (Website_Course_AVG.Managers.Helpers.IsAdmin())
                                                        {
                                                            <a href="#">
                                                                <i class="fa-solid fa-user-shield" style="color:rgb(124 217 110)!important"></i>
                                                            </a>
                                                        }
                                                        else if (Website_Course_AVG.Managers.Helpers.IsUser())
                                                        {
                                                            <a href="#">
                                                                <i class="fa-solid fa-user"></i>
                                                            </a>
                                                        }
                                                    </div>
                                                    <div class="profile-user">
                                                        <ul>
                                                            @if (Website_Course_AVG.Managers.Helpers.IsAdmin())
                                                            {
                                                                <li>
                                                                    <a href="#">
                                                                        <i class="fa-solid fa-user-shield me-2"></i>
                                                                        <span>@currentUser.fullname</span>
                                                                    </a>
                                                                </li>
                                                            }
                                                            else if (Website_Course_AVG.Managers.Helpers.IsUser())
                                                            {
                                                                <li>
                                                                    <a href="#">
                                                                        <i class="fa-solid fa-user me-2"></i>
                                                                        <span>@currentUser.fullname</span>
                                                                    </a>
                                                                </li>
                                                            }
                                                            <li><a href="@Url.Action("LogOff","Account")"><span class="fa fa-sign-out me-3"></span>Sign out</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </li>
                                        }
                                    </ul>
                                </div>
                            </nav>
                        </div>

                        <!-- Mobile Menu  -->
                        <div class="mobile-menu">
                            <div class="close-btn"><i class="fas fa-times"></i></div>

                            <nav class="menu-box">
                                <div class="nav-logo">
                                    <a href="index.html"><img src="../Content/img/logo/AVG_Course.png" alt="" title=""></a>
                                </div>

                                @if (Website_Course_AVG.Managers.Helpers.IsAuthenticated())
                                {
                                    var userManager = new Website_Course_AVG.Managers.UserManager();
                                    var currentUser = userManager.GetUserFromToken();
                                    <div class="menu-user-mobile">
                                        <div class="avatar-user-mobile">
                                            @if (Website_Course_AVG.Managers.Helpers.IsAdmin())
                                            {
                                                <a href="#">
                                                    <i class="icon fa-solid fa-user-shield" style="color:rgb(124 217 110)!important"></i>
                                                </a>
                                                <div class="user-name-mobile"><span>@currentUser.fullname</span></div>
                                            }
                                            else if (Website_Course_AVG.Managers.Helpers.IsUser())
                                            {
                                                <a href="#">
                                                    <i class="icon fa-solid fa-user"></i>
                                                </a>
                                                <div class="user-name-mobile"><span>@currentUser.fullname</span></div>
                                            }
                                        </div>

                                    </div>
                                }
                                <div class="menu-outer">
                                    <!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->

                                    <ul class="navigation">
                                        <li class="active menu-item-has-children">
                                            <a href="@Url.Action("Index","Home")">Home</a>
                                        </li>

                                        <li class="menu-item-has-children">
                                            <a href="@Url.Action("Index","Course")">Course</a>
                                        </li>

                                        <li class="menu-item-has-children">
                                            <a href="@Url.Action("Index","Blog")">blog</a>
                                        </li>

                                        <li><a href="@Url.Action("Contact","Home")">contacts</a></li>

                                        @if (!Website_Course_AVG.Managers.Helpers.IsAuthenticated())
                                        {
                                            <li><a href="@Url.Action("Login","Account")"><span class="fa fa-sign-in me-2"></span>Sign in</a></li>
                                            <li><a href="@Url.Action("Register","Account")"><span class="fa-regular fa-registered me-2"></span>Sign up</a></li>
                                        }
                                        else
                                        {
                                            <li><a href="@Url.Action("LogOff","Account")"><span class="fa fa-sign-out me-2"></span>Sign out</a></li>
                                        }
                                    </ul>
                                </div>
                                <div class="social-links">
                                    <ul class="clearfix">
                                        <li><a href="https://github.com/AVG-Team/Website_Course_AVG"><span class="fab fa-github"></span></a></li>
                                        <li><a href="https://www.facebook.com/avg.team"><span class="fab fa-facebook-square"></span></a></li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        <div class="menu-backdrop"></div>
                        <!-- End Mobile Menu -->
                        <!-- Modal Search -->
                        <div class="modal fade" id="search-modal" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="searchModalLabel">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <form>
                                        <input type="text" value="" placeholder="Search here..." name="query" style="max-width:none !important">
                                        <button onclick="search(controller);">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                 style="width: 40px; height: 40px" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                                            </svg>
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!-- Modal Search-end -->

                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- main-area -->
    <main>
        <div class="pb-5 to-top">
            @RenderBody()
        </div>
        <!-- newsletter-area -->
        <section class="newsletter-area newsletter-bg" data-background="~/Content/img/bg/newsletter_footer_bg">
            <div class="container">
                <div class="newsletter-inner-wrap">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <div class="newsletter-content">
                                <h4 class="text-white">Trial Start First 30 Days.</h4>
                                <p class="text-white">Enter your email to create or restart your membership.</p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <form action="#" class="newsletter-form">
                                <input type="email" required placeholder="Enter your email">
                                <button class="btn">get started</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-top-wrap">
            <div class="container">
                <div class="footer-menu-wrap">
                    <div class="row align-items-center">
                        <div class="col-lg-3">
                            <div class="footer-logo">
                                <a href="index.html"><img src="~/Content/img/logo/AVG_Course.png" alt=""></a>
                            </div>
                        </div>
                        <div class="col-lg-9">
                            <div class="footer-menu">
                                <nav>
                                    <ul class="navigation">
                                        <li><a href="@Url.Action("Index","Home")">Home</a></li>
                                        <li><a href="@Url.Action("Index","Course")">Course</a></li>
                                        <li><a href="@Url.Action("Index","Blog")">Blog</a></li>
                                        <li><a href="@Url.Action("Contact","Home")">Contacts</a></li>
                                    </ul>
                                    <div class="footer-search">
                                        <form action="#">
                                            <input type="text" placeholder="Find Favorite Movie">
                                            <button><i class="fas fa-search"></i></button>
                                        </form>
                                    </div>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-quick-link-wrap">
                    <div class="row align-items-center">
                        <div class="col-md-7">
                            <div class="quick-link-list">
                                <ul>
                                    <li><a href="#">FAQ</a></li>
                                    <li><a href="#">Help Center</a></li>
                                    <li><a href="#">Terms of Use</a></li>
                                    <li><a href="#">Privacy</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="footer-social">
                                <ul>
                                    <li><a href="https://github.com/AVG-Team/Website_Course_AVG"><i class="fab fa-github"></i></a></li>
                                    <li><a href="https://www.facebook.com/avg.team"><i class="fab fa-facebook-f"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright-wrap">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 col-md-6">
                        <div class="copyright-text">
                            <p>Copyright &copy; @DateTime.Now.Year AVG Team</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="payment-method-img text-center text-md-right">
                            <ul class="d-flex justify-content-end">
                                <li><a href="#"><img src="~/Content/img/images/momo_footer.png" alt="img"></a></li>
                                <li><a href="#"><img src="~/Content/img/images/vnpay_footer.png" style="border-radius:10px;padding-left: 5px" alt="img"></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/Scripts/toastr.js")
    @RenderSection("scripts", required: false)
    @RenderSection("filter", required: false)
    @{
        string currentController = ViewContext.RouteData.Values["controller"].ToString().ToLower();
    }

    <script>
        function getCookie(cookieName) {
            var name = cookieName + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function setCookie(cookieName, cookieValue, secondsToExpire, type = 1) {
            if (type == 0) {
                var expires = secondsToExpire;
            } else if (type == 1) {
                var date = new Date();
                date.setTime(date.getTime() + (secondsToExpire * 1000));
                var expires = "expires=" + date.toUTCString();
            }

            var updatedCookie = cookieName + "=" + cookieValue + ";" + expires + ";path=/";

            var existingCookies = document.cookie.split(';');

            var found = false;
            for (var i = 0; i < existingCookies.length; i++) {
                var cookie = existingCookies[i].trim();
                if (cookie.indexOf(cookieName + "=") === 0) {
                    existingCookies[i] = updatedCookie;
                    found = true;
                    break;
                }
            }

            if (!found) {
                existingCookies.push(updatedCookie);
            }

            document.cookie = existingCookies.join(';');
        }

        function deleteCookie(cookieName) {
            setCookie(cookieName, "", 'expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;', 0)
        }

        document.addEventListener("DOMContentLoaded", () => {
            let cookies = document.cookie;

            var cookieNotify = getCookie('Notify');
            if (cookieNotify !== "")
                toastr.success(cookieNotify, 'Notify')

            var cookieError = getCookie('Error');
            if (cookieError !== "")
                toastr.error(cookieError, 'Error')


            // menu
            let body = document.getElementsByTagName("body");
            let iconMenu = document.querySelector(".mobile-nav-toggler");
            iconMenu.addEventListener("click", () => {
                console.log(body[0]);
                body[0].classList.add("mobile-menu-visible");
            })

            let btnCloseMenuMobile = document.querySelector(".mobile-menu .close-btn");
            btnCloseMenuMobile.addEventListener("click", () => {
                body[0].classList.remove("mobile-menu-visible");
            })

            document.addEventListener('click', (e) => {
                if (!e.target.closest(".mobile-menu")
                    && body[0].classList.contains("mobile-menu-visible")
                    && !e.target.closest(".mobile-nav-toggler")
                ) {
                    body[0].classList.remove("mobile-menu-visible");
                }
            });
        })

        // sticky-header
        window.addEventListener('scroll', function () {
            var header = document.getElementById('sticky-header');
            var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;

            if (scrollTop > 100) { // Thay đổi 100 thành giá trị mong muốn để kích hoạt sticky-header
                header.classList.add('sticky-menu');
            } else {
                header.classList.remove('sticky-menu');
            }
        });

        // mobile-menu
        let body = document.getElementsByTagName("body");
        let iconMenu = document.querySelector(".mobile-nav-toggler");
        iconMenu.addEventListener("click", () => {
            console.log(body[0]);
            body[0].classList.add("mobile-menu-visible");
        })

        let btnCloseMenuMobile = document.querySelector(".mobile-menu .close-btn");
        btnCloseMenuMobile.addEventListener("click", () => {
            body[0].classList.remove("mobile-menu-visible");
        })

        document.addEventListener('click', (e) => {
            if (!e.target.closest(".mobile-menu")
                && body[0].classList.contains("mobile-menu-visible")
                && !e.target.closest(".mobile-nav-toggler")
            ) {
                body[0].classList.remove("mobile-menu-visible");
            }
        });

        // dropdown-btn mobile menu
        document.addEventListener("DOMContentLoaded", function () {
            var dropdownBtns = document.querySelectorAll('.mobile-menu .navigation li.menu-item-has-children .dropdown-btn');

            dropdownBtns.forEach(function (btn) {
                btn.addEventListener('click', function (event) {
                    event.preventDefault();
                    var submenu = this.parentElement.querySelector('ul.submenu');
                    if (submenu.style.display === 'block') {
                        submenu.style.display = 'none';
                        this.classList.remove('open');
                    } else {
                        submenu.style.display = 'block';
                        this.classList.add('open');
                    }
                });
            });
        });

        function menuToggle() {
            const toggleMenu = document.querySelector('.profile-user');
            toggleMenu.classList.toggle('active');
        }

        document.addEventListener("DOMContentLoaded", () => {
            var controller = "@currentController";

            if (controller !== "home") {
                var header = $('#sticky-header');

                let heightHeader = header[0].offsetHeight !== 0 ? header[0].offsetHeight : header[1].offsetHeight;

                var divTop = $(".to-top");
                divTop.css("margin-top", heightHeader + "px");
            }
        });

    </script>
</body>
</html>


